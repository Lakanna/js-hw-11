{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        comments,\n        likes,\n        downloads,\n        views,\n        largeImageURL,\n        webformatURL,\n        tags,\n      }) => {\n        return `\n        <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\" class=\"img-container\">\n             <img src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <ul class=\"tags-list\">\n               <li>Comments: ${comments}</li>\n               <li>Likes: ${likes}</li>\n               <li>Views: ${views} </li>\n               <li>Downloads: ${downloads}</li>\n          </ul>\n        </li>`;\n      }\n    )\n    .join('');\n}\n\nexport default createMarkup;\n","const API_KEY = '40437222-3b8e1aead0ae08f3118e12752';\nconst API = 'https://pixabay.com/api/';\n\nfunction fetchImg(searchedImg) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchedImg,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  let url = `${API}?${params}`;\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport { fetchImg };\n","import createMarkup from './js/render-functions';\nimport { fetchImg } from './js/pixabay-api';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst elements = {\n  searchForm: document.querySelector('.js-form'),\n  imageList: document.querySelector('.js-list'),\n  loader: document.querySelector('.loader'),\n};\n\nelements.searchForm.addEventListener('submit', handlerSearch);\n\nfunction handlerSearch(evn) {\n  evn.preventDefault();\n\n  let searchedImg = evn.currentTarget.elements.searchImg.value.trim();\n\n  if (searchedImg === '') {\n    iziToast.show({\n      message: 'Please, input what are you searching!',\n      color: 'red',\n      position: 'topCenter',\n    });\n    return;\n  }\n\n  elements.loader.hidden = false;\n  console.dir(elements.loader);\n\n  fetchImg(searchedImg)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          color: 'red',\n          position: 'topCenter',\n        });\n      }\n      elements.imageList.innerHTML = createMarkup(hits);\n      let gallery = new SimpleLightbox('.image-list a');\n      gallery.refresh();\n    })\n    .catch(error => console.log(error));\n\n  elements.loader.hidden = true;\n\n  evn.target.reset();\n}\n\n// const promis = new Promise((resolve, reject) => {\n//   if (1 > 2) {\n//     resolve('On resolve');\n//   } else {\n//     reject('In error');\n//   }\n// });\n\n// promis\n//   .then(value => {\n//     console.log(value);\n//   })\n//   .catch(error => {\n//     console.log(error);\n//   })\n//   .finally(() => {\n//     console.log('after all');\n//   });\n"],"names":["createMarkup","arr","comments","likes","downloads","views","largeImageURL","webformatURL","tags","API_KEY","API","fetchImg","searchedImg","params","url","response","elements","handlerSearch","evn","iziToast","hits","SimpleLightbox","error"],"mappings":"6vBAAA,SAASA,EAAaC,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,MAAAC,EACA,cAAAC,EACA,aAAAC,EACA,KAAAC,CACR,IACe;AAAA;AAAA,qBAEMF,CAAa;AAAA,yBACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,+BAGpBN,CAAQ;AAAA,4BACXC,CAAK;AAAA,4BACLE,CAAK;AAAA,gCACDD,CAAS;AAAA;AAAA,cAIpC,EACA,KAAK,EAAE,CACZ,CC3BA,MAAMK,EAAU,qCACVC,EAAM,2BAEZ,SAASC,EAASC,EAAa,CAC7B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,IAAIE,EAAM,GAAGJ,CAAG,IAAIG,CAAM,GAC1B,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCVA,MAAMC,EAAW,CACf,WAAY,SAAS,cAAc,UAAU,EAC7C,UAAW,SAAS,cAAc,UAAU,EAC5C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAS,WAAW,iBAAiB,SAAUC,CAAa,EAE5D,SAASA,EAAcC,EAAK,CAC1BA,EAAI,eAAc,EAElB,IAAIN,EAAcM,EAAI,cAAc,SAAS,UAAU,MAAM,OAE7D,GAAIN,IAAgB,GAAI,CACtBO,EAAS,KAAK,CACZ,QAAS,wCACT,MAAO,MACP,SAAU,WAChB,CAAK,EACD,MACD,CAEDH,EAAS,OAAO,OAAS,GACzB,QAAQ,IAAIA,EAAS,MAAM,EAE3BL,EAASC,CAAW,EACjB,KAAK,CAAC,CAAE,KAAAQ,KAAW,CACdA,EAAK,SAAW,GAClBD,EAAS,KAAK,CACZ,QACE,2EACF,MAAO,MACP,SAAU,WACpB,CAAS,EAEHH,EAAS,UAAU,UAAYhB,EAAaoB,CAAI,EAClC,IAAIC,EAAe,eAAe,EACxC,QAAO,CACrB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCN,EAAS,OAAO,OAAS,GAEzBE,EAAI,OAAO,OACb"}